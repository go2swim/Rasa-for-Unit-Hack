version: "3.1"

stories:
- story: поиск человека после приветствия
  steps:
  - intent: greet
  - action: utter_greet
  - intent: search_person
    entities:
    - name: "Анна"
    - department: "маркетинг"
  - action: action_process_request

- story: поиск человека без приветствия
  steps:
    - intent: search_person
      entities:
      - name: "Петр"
    - action: action_process_request

- story: поиск мероприятия базовый
  steps:
    - intent: greet
    - action: utter_greet
    - intent: search_event
      entities:
      - event_category: "корпоратив"
      - date: "завтра"
    - action: action_process_request

- story: поиск мероприятия с локацией и категорией
  steps:
  - intent: search_event
    entities:
    - event_category: "тренинг"
    - location: "онлайн"
    - date: "на следующей неделе"
  - action: action_process_request

- story: создание мероприятия (через search_event)
  steps:
  - user: "Создай событие командный сбор в пятницу в переговорке Дзен"
    intent: search_event
    entities:
    - event_name: "командный сбор"
    - date: "в пятницу"
    - location: "переговорке Дзен"
  - action: action_process_request

- story: поиск мероприятия для отдела
  steps:
  - intent: search_event
    entities:
    - event_category: "тимбилдинг"
    - department: "IT отдел"
    - date: "в этом месяце"
  - action: action_process_request

- story: поиск дней рождения в этом месяце
  steps:
  - intent: find_birthday
    entities:
    - birthday_specifier: "в этом месяце"
  - action: action_process_request

- story: поиск дней рождения в отделе маркетинга в мае
  steps:
  - intent: find_birthday
    entities:
    - department: "отделе маркетинга"
    - birthday_specifier: "в мае"
  - action: action_process_request

- story: поиск дней рождения сотрудников старше 30
  steps:
  - intent: find_birthday
    entities:
    - age_older_than: "30"
    - birthday_specifier: "в этом году" # Добавляем общий спецификатор, если не указан явно
  - action: action_process_request

  - story: поиск дней рождения сотрудников старше 30
    steps:
      - intent: find_birthday
        entities:
          - age_older_than: "30"
          - birthday_specifier: "в этом году"
      - action: action_process_request

  - story: проверить мои задачи на сегодня
    steps:
      - intent: check_task
        entities:
          - name: "мои"
          - date: "сегодня"
      - action: action_process_request

  - story: проверить невыполненные задачи Петрова по проекту Альфа
    steps:
      - intent: check_task
        entities:
          - name: "Петрова"
          - task_status: "невыполненные"
          - project: "Альфа"
      - action: action_process_request

  - story: проверить задачи с высоким приоритетом и тегом отчет
    steps:
      - intent: check_task
        entities:
          - task_priority: "высоким"
          - task_tag: "отчет"
      - action: action_process_request


  - story: проверить мой календарь на сегодня
    steps:
      - intent: check_employment_calendar
        entities:
          - name: "мой"
          - date: "сегодня"
      - action: action_process_request

  - story: найти свободные слоты у Петрова на неделе
    steps:
      - intent: check_employment_calendar
        entities:
          - name: "Петрова" # или Петров
          - date: "на этой неделе"
      - action: action_process_request # Бэкенд будет искать "свободные слоты" по ключевым словам в тексте

  - story: проверить совещания с участием Иванова в моем календаре
    steps:
      - intent: check_employment_calendar
        entities:
          - name: "моём" # или мой
          - name: "Иванова" # или Иванов
          - event_name: "совещания"
      - action: action_process_request